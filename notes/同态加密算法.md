---
tags: [联邦学习, 同态加密]
title: 同态加密算法
created: '2022-06-15T03:02:48.246Z'
modified: '2022-06-15T05:49:23.719Z'
---

# 同态加密算法
同态加密：直接将原文加密，然后在密文上进行各种运算，最终得到结果的密文。直接在密文上操作和在明文上操作后加密，效果相同。形式化的表示为：

$$x_1,x_2...,x_n \to [x_1], [x_2],...,[x_n]$$
$$f([x_1], [x_2],...,[x_n])\to [f(x_1,x_2...,x_n)]$$

## 同态乘法
$$[x] = x^e$$
$$[xy] =[x][y] = (xy)^e$$

## 同态加法
$$[x] = g^xr^n$$
$$[xy] = g^{x+y}(r_xr_y)^n$$

## 全同态

对于一个明文的bit $b$,将其加密为密文 $c=b+2x+kp$，p为奇数（密钥），x为随机数可视为掩盖b的噪声。b的取值为（0，1），只要k的取值是随机的，c并不暴露b的原始值, p往往是一个很大的数。
解密：
- c mod p = （b + 2x） mod p
- 一般情况下，（b + 2x） mod p的是奇数还是偶数与2x无关，所以无需知道x，便可以知道b是0还是1
- 但是，在x足够大时（超过 p/2），2x mod p 会发生奇偶性翻转。 
- x 取值不应太大， 但太小也会造成安全性降低

加法同态性：
$$c_1 = b_1 + 2x_1 + k_1p$$
$$c_2 = b_2 + 2x_2 + k_2p$$
$$c_1 + c_2 = (b_1 + b_2) + 2(x_1 + x_2) + (k_1+k_2)p$$

乘法同态性：
$$c_1 \times c_2 =  (b_1 * b_2) + 2(b_1x_2 + b_2x_1 + 2x_1x_2) + kp$$


上面提到了一种简单的可对一个位进行简单同态的加密方式，也介绍了实现全同态加密的基本思路。但实际上人们研究和使用的同态加密方式不会像前面那个方法那样简单。

